# 0. 微信小程序笔记

## 1. 微信小程序是一个时代的变革

+ 跨终端app
+ 支持多平台兼容
+ 不需下载就可以使用的app
+ 用户用完即走 方便了用户 没必要安装到手机上
+ 打开速度快于H5
+ 安卓手机可以把应用添加到手机桌面

## 2. 目录结构

+  一个目录就代表一个页面
+ app.js app.json app.wxss project.config.json 文件通常放在项目的根目录
+ app名字是固定的
+ 每一个文件夹下面的文件名称都是需要一样的 这是约定好的
+ 比如 logs 文件夹是 logs 页面 下面的 logs.js  logs.json logs.wxml  logs.wxss 要这样写
+ 微信小程序有多个页面  每个页面一般有四个文件组成 js json wxss wxml
+ utils 放一些公用代码
+ project.config.js 开发工具配置项

## 3. 调试工具

+ console 输出日志
+ sources  源码目录
+ Network  网络相关
+ Storage 缓存相关
+ AppData 具体数据
+ Wxml  布局文件
+ Sensor  重力感应
+ Trace 手机调试操作  

## 4. 快捷键与图片的引入

+ 在开发者工具中 不能直接在外部复制粘贴到工具内的文件夹下
+ 必须通过项目的根文件进行将图片粘贴进去

> 快捷键

+ shift + ctrl + n 新建项目
+ shift + ctrl + w 关闭当前项目
+ ctrl + N  新建文件
+ ctrl  + S  保存文件
+ ctrl + W 关闭当前文件
+ alt  +  上键  代码上移一行
+ alt +  下键  代码下移一行 

## 5. 主配置文件 app.json

+ 入口文件 app.json 当项目启动时就会去找app.json文件

+ app.json是对项目的全局配置 包括了小程序的所有页面路径 界面表现 网络的超时时间 底部tab等...

+ 配置项 **pages**

+ 一个目录就是一个页面

+ 在小程序中新增或者减少页面都应该在pages里面进行设置

+ 在pages里面进行配置 如果没有创建这个文件夹或者没有编写全这个页面的四个文件系统会为我们自动补全

+ 文件名不需要后缀名 因为框架会自动去寻找json js wxml wxss 四个进行整合

+ 配置项 **window**

+ ![1545651180960](C:\Users\Administrator\AppData\Local\Temp\1545651180960.png)

+ | 属性           | 类型         | 必填 | 描述                   |
  | -------------- | ------------ | ---- | ---------------------- |
  | pages          | String Array | 是   | 设置页面路径           |
  | window         | Object       | 否   | 设置默认页面的窗口表现 |
  | tabBar         | Object       | 否   | 设置底部tab表现        |
  | networkTimeout | Object       | 否   | 设置网络超时时间       |
  | debug          | Boolean      | 否   | 设置是否开启debug模式  |

  

+ 配置项 **debug**

+ 开启调试信息 帮助开发者更快速的定位到错误

+ 配置项 **networkTimeout**

+ 设置网络请求的最长时间

+ 配置项 **tabBar**

+ ![1545652664465](C:\Users\Administrator\AppData\Local\Temp\1545652664465.png)

**list**

![1545652694617](C:\Users\Administrator\AppData\Local\Temp\1545652694617.png)



> 完整的app.json 配置

```json
{}

```

> 完整的app.json 配置

```javascript
{
  //全局配置
  "pages":[  // 配置页面
    "pages/index/index",
    "pages/logs/logs"
  ],
  "window":{  // 配置窗口
    "backgroundTextStyle":"dark", //下拉背景字体
    "navigationBarBackgroundColor": "#000", //d导航栏背景颜色
    "navigationBarTitleText":"李文祥",  //导航栏标题文本内容
    "navigationBarTextStyle":"white", //导航栏标题文本颜色 仅支持black/light
    "enablePullDownRefresh": true, //是否开启下拉刷新
    "backgroundColor": "#000000", //窗口的背景色
    "onReachBottomDistance":50 //页面上拉触底事件触发时距页面底部距离
  },
  "tabBar": {  // 配置底部导航栏
    "color": "#000000",//tabs上的文本默认颜色,
    "selectedColor": "#000000",//tab上的文字选中时的颜色
    "backgroundColor": "#000000",// tab的背景颜色
    "borderStyle": "black",//tab上边框的颜色 仅支持 black/white
    "list": [  // tab 的列表
      { //tab的列表  最少2个 最多5个
      "pagePath": "pagePath", //页面路径
      "text": "text", // 文本内容
      "iconPath": "iconPath", // 图标路径 不支持远程
      "selectedIconPath": "selectedIconPath", //选中的图标路径
      },
      {
        //tab的列表  最少2个 最多5个
        "pagePath": "pagePath", //页面路径
        "text": "text", // 文本内容
        "iconPath": "iconPath", // 图标路径 不支持远程
        "selectedIconPath": "selectedIconPath", //选中的图标路径
      }
    ],
    // 定位的位置
    "position":"bottom" //可选值 bottom / top
  },
   //网络请求超时时间
  "networkTimeout": {
    "request": 20000,
    "connectSocket": 20000,
    "uploadFile": 20000,
    "downloadFile": 20000
  },
   //开启调试
  "debug":true
}
```

## 6. 页面配置

+ 在 app.json 中配置的是全局的 可能有的页面每一个页面都需要一个标题的话就可以在每一个页面里面的json文件中进行配置  默认只可以配置window项的内容但是不能写window否则无效 但是花括号不能省 直接一个花括号就可以在里面进行配置了

+  例子:  {

  ​    "usingComponents": {},

  ​    "navigationBarBackgroundColor": "#000000",

  ​    "navigationBarTextStyle": "white",

  ​    "navigationBarTitleText": "小程序",

  ​    "backgroundColor": "#FFFFFF",

  ​    "backgroundTextStyle": "drak",

  ​    "enablePullDownRefresh": true

  }

## 7. app.js 值 App 方法

+ 主逻辑文件
+ 微信小程序的前端系统分为逻辑层和视图层
+ 官方提供了App方法和Page方法
+ App注册主程序  Page 注册页面
+ 开发者写的代码在最后将被打包成javascript代码运行直到小程序销毁
+ App函数 每个小程序必须在app.js中进行程序的注册并且只能注册一次
+ 里面是一个json对象 包含三个方法 onLaunch (小程序初始化时调用 只掉用一次)  onShow (小程序启动 或者进入前台时出发) onHide (进入后台模式时出发)



## 8. 数据绑定

+ {{ num  }} 可以动态显示Page里面的data里面的数据 可以进行运算 + - * / 三元运算



## 9. 条件渲染

+ wx:if = "{{ 条件 }}" wx:elif = “{{ 条件 }}” wx:else
+ block 并不会被渲染 只是一个元素用来包括需要渲染的数据块 类似于Vue中的template



## 10. 列表渲染

+ hidden属性 控制页面元素的显示与隐藏
+ wx:for="{{list}}"   默认是{{ index }}为变量名下标  {{ item }} 为循环的每一个元素
+ 如果不想使用默认的index和item可以自定义 使用 wx:for-index = "i"   wx:for-item="obj"
+ 可以嵌套wx:for
+ 使用block包裹循环更好



## 11. 模板

 <!--  模板  template  传递的数据时 传递名字 要和使用的名字一致 -->

 <!--  模板就是在被调用的时候才会显示 使用name规定名字 调用时使用is调用对应的模板  -->

 <!--  如果不需要传递数据在调用的时候可以省略data属性 如果需要传递资料的话就不能省略了 -->

 <!--  有接受的值 但没有传递不会报错  -->

<!-- 也不会被渲染到页面元素中 -->

<!-- 也可以使用单标签  <template is="root"  /> -->

```html
<!--  声明模板 -->
<template name="root">
    <view> 没有传递数据的时候!  {{ num1 }}</view>
</template>
<!-- 调用模板  -->
<template is="root" data="{{num1}}"></template>
```

##12. 引用其他页面文件的模板

+ **import**
  + <import    src="../index/index.wxml" />   标签必须关闭
  + 可以导入外部文件的模板
  + 有作用域的一说 不会导入外部文件导入的模板文件 只能够导入 目标页面的模板
+ **include**
  + <include src="../index/index.wxml"/>    标签必须关闭
  + 可以导入外部文件的除模板之外的所有内容  导入到include的位置
+ **use**
  + import  导入之后 就可以正常使用了   通过标签 template is="root" 使用

## 13. 页面事件

+ 冒泡事件 和 非冒泡事件
+ **冒泡事件**
  + touchstart 手指触摸
  + touchend 手指触摸动作结束
  + touchmove 手指触摸后移动
  + touchcancel 手指触摸被打断
  + tap 手指触摸后离开  类似于PC的点击事件
  + longtap 手指触摸超过350ms在离开
+ **绑定事件**
  + 使用  **bind** 和  **catch** 进行事件的绑定
  + bind不能够阻止事件向上冒泡 catch可以组织事件向上冒泡
+ **设置修改data中的属性值**
  + 通过 this.setData({name:"lee"})  进行修改

## 14. EVENT 事件对象

+ 在每一个函数中都有一个event对象 里面有事件的各种操作

+ ​    console.log(e.changedTouches[0].clientX);   //获取到当前的坐标

  ​    console.log(e.touches[0].clientX);  //获取到当前的坐标

  ​    console.log(e.target.dataset['slide']);  // 获取到自定义属性 也可以使用.语法

  获取值  this.data.xxxx

## 15. Page Style File Wxss

+ **rpx**
  + 可以根据屏幕尺寸自己进行变化   规定屏幕尺寸为 750rpx为全屏宽度
+ 以前在css中的单位在小程序中也可以使用
+ 可以使用行内样式
+ **@import**
  + 这个可以导入外部样式表
  + @import '地址';   分号要结尾 只能在css文件里使用
  + app.wxss 时全局样式 页面样式会覆盖全局样式
+ 在小程序中没有 * 通配符  小程序提供了一个 page {  } 用来代表整个页面的样式

## 16. UI 界面 (组件)

+ 每一个组件都是有一对标签组成
+ 可以嵌套
+ **通用属性**
  + id,class
+ **hidden**属性
  +  控制元素的显示和隐藏 但会渲染到树
+ **data**属性
  + 绑定自定义属性
+ **style**属性
  + 设置内联样式

> View 组件

+ 类似于Html中的Div 里面可以放置其他组件	

> Button 组件

+ **属性**
  + size    取值  default | mini  按钮的大小
  + type   取值  default | primary | warn   按钮的类型
  + plain  取值   false | true     按钮式否是朴素按钮
  + disabled 取值  false | true    是否禁用
  + loading  取值  false|true   是否带有加载图标
  + hover-class 取值  类名     按下去的样式类
+ **注意**
  + 属性只要有值就是true

> input 组件

+ **属性**
  + type
    + text     文本键盘
    + number   数字键盘
    + idcard    身份证键盘
    + digit    带.的键盘
  + value
    + 初始默认值
  + password
    + boolean  是否是密码框
  + placeholder
    + 提示文本
  + placeholder-stye / placeholder-class
    + 设置提示文本的样式
  + maxlength
    + 设置最大长度  -1 标识不限制
  + focus
    + 自动获取到焦点  Boolean
  + confirm-type
    + 设置键盘右下角的文字
      + done    完成
      + send     发送
      + go         前往
      + next      下一步
      + search     搜索
  + bindinput
    + 当输入框输入内容时触发
    + 可以通过事件对象e.detail.value 获取到输入框的值
    + return 的值可以直接成为此input框的值 下面的雷同
  + bindblur 
    + 当输入框失去焦点时触发
    + 可以通过事件对象e.detail.value 获取到输入框的值
  + bindfocus
    + 当输入框获取焦点时触发
    + 可以通过事件对象e.detail.value 获取到输入框的值
  + bindconfirm
    + 当点击完成按钮时触发

> icon 组件

+ 一些图标组件
+ https://www.iconfont.cn 阿里图标库地址
+ 属性
  + type
    + search
    + info
    + success
    + success_no_circle
    + warn 
    + waiting 
    + download
    + cancel 
    + clear 
  + size
    + 设置图标的大小
    + 单位是px 可以设置大小
  + color
    + 设置图标的颜色值
    + white black brown 等~



> Text 文本组件

+ 属性
  + selectable      true | false  是否可选

> slider 组件

+ min 最小值
+ max 最大值
+ setp 步长
+ disabled 是否禁用
+ value 当前取值
+ color  背景条的颜色 请选择backgroundColor
+ selected-color 已选择的颜色   请选择activeColor 
+ activeColor 已选择的颜色
+ backgroundColor 背景条的颜色
+ show-value 是否显示当前value
+ bindchange 完成一次拖动后触发的事件
+ bindchanging 拖动过程中触发的事件 

> switch 组件

+ **属性**
  + checked 是否是选中的
  + type  switch | checkbox
  + bindchange  改变时触发此事件 可以通过event.datail.value 获取值
  + color  switch 的颜色

> radio 组件 & radio-group

+ radio-group 
  + 事件
    + bindchange  可以通过事件对象获取到分组里面的值
+ radio
  + 属性
    + value 当改选项被选中的时候bindchange里面的值就是选中的value
    + checked 是否选中
    + disabled 是否禁用
    + color   单选框颜色
+ 一般使用 radio-group 包裹 radio

> checkbox-group & checkbox

+ checkbox-group
  + 事件
    + bindchange 可以通过事件对象获取到分组里面的值
  + checkbox
    + 属性
      + value
      + checked
      + disabled
      + color

> label 组件

+ 目前支持的组件有  button checkbox switch radio
+ 使用for属性与其他组件进行绑定id
+ <label for="oo"> 点我 </label>   <radio id="oo">  组件 </radio>

> textarea

+ 属性
  + value
  + placeholder
  + placeholder-class | placeholder-style
  + maxlength
  + auto-height 是否自动增高高度
  + disabled
  + focus
+ 事件
  + bindtap
  + bindfocus
  + bindblur
  + bindinput
  + bindconfirm
  + bindlinechange 行数发生变化时

> form 组件

+ 跟 html 中的差不多	
+ 在form里面的组件 checkbox input  radio slider switch 等 ..... 都需要一个name属性作为key
+ 在form里面的button可以设置 form-type 属性值为  reset | submit 进行重置 或者提交
+ 事件
  + bindsubmit  监听提交
  + bindreset   监听重置
+ 获取值还是通过事件对象的detail.value

> picker

+ 形态  通过mode来区分 默认为普通选择器 （selector）  有五种 普通选择器 日期选择器 省市区选择器   时间选择器  多列选择器 

**普通选择器：mode = selector**

| 属性名     | 类型                 | 默认值 | 说明                                                         | 最低版本 |
| ---------- | -------------------- | ------ | ------------------------------------------------------------ | -------- |
| range      | Array / Object Array | []     | mode为 selector 或 multiSelector 时，range 有效              |          |
| range-key  | String               |        | 当 range 是一个 Object Array 时，通过 range-key 来指定 Object 中 key 的值作为选择器显示内容 |          |
| value      | Number               | 0      | value 的值表示选择了 range 中的第几个（下标从 0 开始）       |          |
| bindchange | EventHandle          |        | value 改变时触发 change 事件，event.detail = {value: value}  |          |
| disabled   | Boolean              | false  | 是否禁用                                                     |          |
| bindcancel | EventHandle          |        | 取消选择或点遮罩层收起 picker 时触发                         |          |

**时间选择器：mode = time**

| 属性名     | 类型        | 默认值 | 说明                                                        | 最低版本                                                     |
| ---------- | ----------- | ------ | ----------------------------------------------------------- | ------------------------------------------------------------ |
| value      | String      |        | 表示选中的时间，格式为"hh:mm"                               |                                                              |
| start      | String      |        | 表示有效时间范围的开始，字符串格式为"hh:mm"                 |                                                              |
| end        | String      |        | 表示有效时间范围的结束，字符串格式为"hh:mm"                 |                                                              |
| bindchange | EventHandle |        | value 改变时触发 change 事件，event.detail = {value: value} |                                                              |
| bindcancel | EventHandle |        | 取消选择时触发                                              | [1.9.90](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| disabled   | Boolean     | false  | 是否禁用                                                    |                                                              |

**日期选择器：mode = date**

| 属性名     | 类型        | 默认值 | 说明                                                        | 最低版本                                                     |
| ---------- | ----------- | ------ | ----------------------------------------------------------- | ------------------------------------------------------------ |
| value      | String      | 0      | 表示选中的日期，格式为"YYYY-MM-DD"                          |                                                              |
| start      | String      |        | 表示有效日期范围的开始，字符串格式为"YYYY-MM-DD"            |                                                              |
| end        | String      |        | 表示有效日期范围的结束，字符串格式为"YYYY-MM-DD"            |                                                              |
| fields     | String      | day    | 有效值 year,month,day，表示选择器的粒度                     |                                                              |
| bindchange | EventHandle |        | value 改变时触发 change 事件，event.detail = {value: value} |                                                              |
| bindcancel | EventHandle |        | 取消选择时触发                                              | [1.9.90](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| disabled   | Boolean     | false  | 是否禁用                                                    |                                                              |

**省市区选择器：mode = region**（最低版本：[1.4.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html)）

| 属性名      | 类型        | 默认值 | 说明                                                         | 最低版本                                                     |
| ----------- | ----------- | ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| value       | Array       | []     | 表示选中的省市区，默认选中每一列的第一个值                   |                                                              |
| custom-item | String      |        | 可为每一列的顶部添加一个自定义的项                           | [1.5.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| bindchange  | EventHandle |        | value 改变时触发 change 事件，event.detail = {value: value, code: code, postcode: postcode}，其中字段code是统计用区划代码，postcode是邮政编码 |                                                              |
| bindcancel  | EventHandle |        | 取消选择时触发                                               | [1.9.90](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| disabled    | Boolean     | false  | 是否禁用                                                     |                                                              |

> picker-view

- 注意： 其内部只可以放置 picker-view-column组件 在里面放置一个代表一列 在里面使用view进行遍历显示

- 属性

  - value NumberArray  选中的第几项

  - indicator-style 设置选择器选中框的样式

    indicator-class 设置选择器的选中狂的类名

    mask-style  设置蒙版的样式

    mask-class 设置蒙版的类名

    bindchange  当滚动选择时value改变触发change事件 可以通过事件对象获取到一个数组 里面保存的是每一项选中的下标

- 记得设置宽高 不设置不显示 默认高度为0

- 字体可以通过view设置

> navigator

+ 导航组件

+  **open-type 有效值：**

  | 值           | 说明                                                      | 最低版本                                                     |
  | ------------ | --------------------------------------------------------- | ------------------------------------------------------------ |
  | navigate     | 对应 `wx.navigateTo` 或 `wx.navigateToMiniProgram` 的功能 |                                                              |
  | redirect     | 对应 `wx.redirectTo` 的功能                               |                                                              |
  | switchTab    | 对应 `wx.switchTab` 的功能                                |                                                              |
  | reLaunch     | 对应 `wx.reLaunch` 的功能                                 | [1.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | navigateBack | 对应 `wx.navigateBack` 的功能                             | [1.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | exit         | 退出小程序，target="miniProgram"时生效                    | [2.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |

  **wx.navigateTo(Object object)**

  保留当前页面，跳转到应用内的某个页面。但是不能跳到 tabbar 页面。使用 [wx.navigateBack](https://developers.weixin.qq.com/miniprogram/dev/api/wx.navigateBack.html) 可以返回到原页面。

  #### 参数

  ##### Object object

  | 属性     | 类型     | 默认值 | 必填 | 说明                                                         | 最低版本 |
  | -------- | -------- | ------ | ---- | ------------------------------------------------------------ | -------- |
  | url      | string   |        | 是   | 需要跳转的应用内非 tabBar 的页面的路径, 路径后可以带参数。参数与路径之间使用 `?` 分隔，参数键与参数值用 `=` 相连，不同参数用 `&` 分隔；如 'path?key=value&key2=value2' |          |
  | success  | function |        | 否   | 接口调用成功的回调函数                                       |          |
  | fail     | function |        | 否   | 接口调用失败的回调函数                                       |          |
  | complete | function |        | 否   | 接口调用结束的回调函数（调用成功、失败都会执行）             |          |

  #### 示例代码

  ```
  wx.navigateTo({
    url: 'test?id=1'
  })
  // test.js
  Page({
    onLoad(option) {
      console.log(option.query)
    }
  })
  ```

  其他的wx.方法的属性都是一样的

  在跳到目标页面后 可以在onload方法里面获取到传递的查询字符串参数 通过onload里面的参数就直接是传递的参数

  > swiper

+  swiper

  滑块视图容器。

  + 在 swiper下面只可以有swiper-item 并且有几张图片就有几个swiper-item
  + 可以使用 一个数组 进行遍历

  | 属性名                     | 类型        | 默认值            | 说明                                                         | 最低版本                                                     |
  | -------------------------- | ----------- | ----------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | **indicator-dots**         | Boolean     | false             | 是否显示面板指示点                                           |                                                              |
  | **indicator-color**        | Color       | rgba(0, 0, 0, .3) | 指示点颜色                                                   | [1.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | **indicator-active-color** | Color       | #000000           | 当前选中的指示点颜色                                         | [1.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | **autoplay**               | Boolean     | false             | 是否自动切换                                                 |                                                              |
  | **current**                | Number      | 0                 | 当前所在滑块的 index                                         |                                                              |
  | current-item-id            | String      | ""                | 当前所在滑块的 item-id ，不能与 current 被同时指定           | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | **interval**               | Number      | 5000              | 自动切换时间间隔                                             |                                                              |
  | **duration**               | Number      | 500               | 滑动动画时长                                                 |                                                              |
  | **circular**               | Boolean     | false             | 是否采用衔接滑动                                             |                                                              |
  | **vertical**               | Boolean     | false             | 滑动方向是否为纵向                                           |                                                              |
  | **previous-margin**        | String      | "0px"             | 前边距，可用于露出前一项的一小部分，接受 px 和 rpx 值        | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | **next-margin**            | String      | "0px"             | 后边距，可用于露出后一项的一小部分，接受 px 和 rpx 值        | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | display-multiple-items     | Number      | 1                 | 同时显示的滑块数量                                           | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | skip-hidden-item-layout    | Boolean     | false             | 是否跳过未显示的滑块布局，设为 true 可优化复杂情况下的滑动性能，但会丢失隐藏状态滑块的布局信息 | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | **bindchange**             | EventHandle |                   | current 改变时会触发 change 事件，event.detail = {current: current, source: source} |                                                              |
  | bindtransition             | EventHandle |                   | swiper-item 的位置发生改变时会触发 transition 事件，event.detail = {dx: dx, dy: dy} | [2.4.3](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | bindanimationfinish        | EventHandle |                   | 动画结束时会触发 animationfinish 事件，event.detail 同上     | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |

## 17. 交互反馈和多媒体组件

> wx.showLoading

+ 在之前使用<loading>加载中</loading> 组件  但是现在被弃用了
+ 调用了wx.showLoading的话需要调用wx.hideLoading函数来隐藏
+ 属性   >  wx.showToast({  }) 也可以通过 wx.hideToast() 函数来隐藏
  + title
  + icon         图标   success | loading |  none
  + image      自定义图标 优先级高于icon
  + duration  设置的延时

> wx.showModal

+ showModal(){

  ​    wx.showModal({

  ​      title: '你喜欢我吗？',    //标题

  ​      content: '我是李文祥!!!',  //内容

  ​      cancelText:"返回",    取消的文本内容

  ​      cancelColor:"#00ff00",    取消的文本颜色

  ​      confirmColor:"", // 确认的文本颜色

  ​      confirmText:"Go",  // 确认的文本

  ​      success:e=>{    //成功的时候调用的函数 里面接受一个事件对象

  ​         console.log(e.confirm);   // 点击确认为 true  否则 false

  ​         console.log(e.cancel);   // 点击取消为 true   否则  false

  ​      }

  ​    })

    }

> wx.showActionSheet

showActive(){

​    wx.showActionSheet({

​        itemList: ["分享到杨可凡家","分享到孙蒙恩家","分享到狗蛋家","分享到张瑞龙媳妇家","最多六个"],  显示的列表

​        itemColor:"#08f",  列表文字颜色

​        success:e=>{  // 成功的函数

​           console.log(e.tapIndex) //标识的是选择的第几个 从第一个开始 0 1 2 ....  进行不同的处理

​        }, 

​        fail:e=>{

​     //失败

​        },

​        complete:e=>{

​     // 完成后

​        }

​    })

  }

> audio

+ 基本属性
  + src    播放路径
  + loop  是否循环播放
  + poster   专辑图
  + author   作者
  + name    名称
  + controls  是否显示控件
+ 事件
  + bindplay   播放开始触发
  + bindpause   播放暂停触发
  + binderror   播放错误触发   1 获取资源被用户禁止  2 网络错误  3  解码错误  4  不合适资源
  + bindtimeupdate   播放进度改变触发
  + bindended   播放到末尾触发此事件

> wx.createInnterAudioContext()

+ 这个接口函数可以创建一个音乐播放器的容器

+ 属性 和 事件

+ **innerAudioContext 对象的方法列表：**

  | 方法          | 参数     | 说明                                                         | 最低版本                                                     |
  | ------------- | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | play          | 无       | 播放                                                         |                                                              |
  | pause         | 无       | 暂停                                                         |                                                              |
  | stop          | 无       | 停止                                                         |                                                              |
  | seek          | position | 跳转到指定位置，单位 s。精确到小数点后 3 位，即支持 ms 级别精确度 |                                                              |
  | destroy       | 无       | 销毁当前实例                                                 |                                                              |
  | onCanplay     | callback | 音频进入可以播放状态，但不保证后面可以流畅播放               |                                                              |
  | onPlay        | callback | 音频播放事件                                                 |                                                              |
  | onPause       | callback | 音频暂停事件                                                 |                                                              |
  | onStop        | callback | 音频停止事件                                                 |                                                              |
  | onEnded       | callback | 音频自然播放结束事件                                         |                                                              |
  | onTimeUpdate  | callback | 音频播放进度更新事件                                         |                                                              |
  | onError       | callback | 音频播放错误事件                                             |                                                              |
  | onWaiting     | callback | 音频加载中事件，当音频因为数据不足，需要停下来加载时会触发   |                                                              |
  | onSeeking     | callback | 音频进行 seek 操作事件                                       |                                                              |
  | onSeeked      | callback | 音频完成 seek 操作事件                                       |                                                              |
  | offCanplay    | callback | 取消监听 onCanplay 事件                                      | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | offPlay       | callback | 取消监听 onPlay 事件                                         | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | offPause      | callback | 取消监听 onPause 事件                                        | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | offStop       | callback | 取消监听 onStop 事件                                         | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | offEnded      | callback | 取消监听 onEnded 事件                                        | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | offTimeUpdate | callback | 取消监听 onTimeUpdate 事件                                   | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | offError      | callback | 取消监听 onError 事件                                        | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | offWaiting    | callback | 取消监听 onWaiting 事件                                      | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | offSeeking    | callback | 取消监听 onSeeking 事件                                      | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | offSeeked     | callback | 取消监听 onSeeked 事件                                       | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |

  #### errCode 说明

  | errCode | 说明     |
  | ------- | -------- |
  | 10001   | 系统错误 |
  | 10002   | 网络错误 |
  | 10003   | 文件错误 |
  | 10004   | 格式错误 |
  | -1      | 未知错误 |

> 音乐播放控制

+ 在小程序中 用户一旦离开小程序音乐就会暂停播放 为了解决这个问题又产生除了许多个函数

+ **注意 微信 在 6.7.2 版本后需要**

+ 在app.json 中设置 "requiredBackgroundModes" : ["audio"]  规定需要后台播放的内容接受一个数组

+ 小例子

+ ```javascript
  const backgroundAudioManager = wx.getBackgroundAudioManager()
  
  backgroundAudioManager.title = '此时此刻'
  backgroundAudioManager.epname = '此时此刻'
  backgroundAudioManager.singer = '许巍'
  backgroundAudioManager.coverImgUrl = 'http://y.gtimg.cn/music/photo_new/T002R300x300M000003rsKF44GyaSk.jpg?max_age=2592000'
  backgroundAudioManager.src = 'http://ws.stream.qqmusic.qq.com/M500001VfvsJ21xFqb.mp3?guid=ffffffff82def4af4b12b3cd9337d5e7&uin=346897220&vkey=6292F51E1E384E061FF02C31F716658E5C81F5594D561F2E88B854E81CAAB7806D5E4F103E55D33C16F3FAC506D1AB172DE8600B37E43FAD&fromtag=46' // 设置了 src 之后会自动播放
  ```

+ 使用比较简单 详情音乐方便可以去看文档

+ https://developers.weixin.qq.com/miniprogram/dev/api/getBackgroundAudioManager.html

> Video

+ #### video

  视频。该组件是[原生组件](https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html)，使用时请注意相关限制。

  | 属性名                          | 类型         | 默认值                                          | 说明                                                         | 最低版本                                                     |
  | ------------------------------- | ------------ | ----------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | **src**                         | String       |                                                 | 要播放视频的资源地址，支持云文件ID（2.2.3起）                |                                                              |
  | initial-time                    | Number       |                                                 | 指定视频初始播放位置                                         | [1.6.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | duration                        | Number       |                                                 | 指定视频时长                                                 | [1.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | **controls**                    | Boolean      | true                                            | 是否显示默认播放控件（播放/暂停按钮、播放进度、时间）        |                                                              |
  | **danmu-list**                  | Object Array | [{ text:'内容' ,color:"颜色",time:1 时间显示 }] | 弹幕列表                                                     |                                                              |
  | **danmu-btn**                   | Boolean      | false                                           | 是否显示弹幕按钮，只在初始化时有效，不能动态变更             |                                                              |
  | **enable-danmu**                | Boolean      | false                                           | 是否展示弹幕，只在初始化时有效，不能动态变更                 |                                                              |
  | **autoplay**                    | Boolean      | false                                           | 是否自动播放                                                 |                                                              |
  | **loop**                        | Boolean      | false                                           | 是否循环播放                                                 | [1.4.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | muted                           | Boolean      | false                                           | 是否静音播放                                                 | [1.4.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | page-gesture                    | Boolean      | false                                           | 在非全屏模式下，是否开启亮度与音量调节手势                   | [1.6.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | direction                       | Number       |                                                 | 设置全屏时视频的方向，不指定则根据宽高比自动判断。有效值为 0（正常竖向）, 90（屏幕逆时针90度）, -90（屏幕顺时针90度） | [1.7.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | show-progress                   | Boolean      | true                                            | 若不设置，宽度大于240时才会显示                              | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | show-fullscreen-btn             | Boolean      | true                                            | 是否显示全屏按钮                                             | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | show-play-btn                   | Boolean      | true                                            | 是否显示视频底部控制栏的播放按钮                             | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | show-center-play-btn            | Boolean      | true                                            | 是否显示视频中间的播放按钮                                   | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | enable-progress-gesture         | Boolean      | true                                            | 是否开启控制进度的手势                                       | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | **objectFit**                   | String       | contain                                         | 当视频大小与 video 容器大小不一致时，视频的表现形式。contain：包含，fill：填充，cover：覆盖 |                                                              |
  | **poster** 视频未加载显示的图片 | String       |                                                 | 视频封面的图片网络资源地址或云文件ID（2.2.3起支持）如果 controls 属性值为 false 则设置 poster 无效 |                                                              |
  | **bindplay**                    | EventHandle  |                                                 | 当开始/继续播放时触发play事件                                |                                                              |
  | **bindpause**                   | EventHandle  |                                                 | 当暂停播放时触发 pause 事件                                  |                                                              |
  | **bindended**                   | EventHandle  |                                                 | 当播放到末尾时触发 ended 事件                                |                                                              |
  | bindtimeupdate                  | EventHandle  |                                                 | 播放进度变化时触发，event.detail = {currentTime, duration} 。触发频率 250ms 一次 |                                                              |
  | bindfullscreenchange            | EventHandle  |                                                 | 视频进入和退出全屏时触发，event.detail = {fullScreen, direction}，direction取为 vertical 或 horizontal | [1.4.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | bindwaiting                     | EventHandle  |                                                 | 视频出现缓冲时触发                                           | [1.7.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | binderror                       | EventHandle  |                                                 | 视频播放出错时触发                                           | [1.7.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | bindprogress                    | EventHandle  |                                                 | 加载进度变化时触发，只支持一段加载。event.detail = {buffered}，百分比 | [2.4.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |

  [``](https://developers.weixin.qq.com/miniprogram/dev/component/video.html) 默认宽度300px、高度225px，可通过wxss设置宽高。

> createVideoContext

+ 可以操作一个video组件 例如 发送弹幕  设置倍速等

+ 在onLoad函数中设置create控制页面中的video组件

+ **videoContext 对象的方法列表：**

  | 方法              | 参数     | 说明                                                         | 最低版本                                                     |
  | ----------------- | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | play              | 无       | 播放                                                         |                                                              |
  | pause             | 无       | 暂停                                                         |                                                              |
  | stop              | 无       | 停止                                                         | [1.7.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | seek              | position | 跳转到指定位置，单位 s                                       |                                                              |
  | sendDanmu         | danmu    | 发送弹幕，danmu 包含两个属性 text, color。                   |                                                              |
  | playbackRate      | rate     | 设置倍速播放，支持的倍率有 0.5/0.8/1.0/1.25/1.5              | [1.4.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | requestFullScreen | 无       | 进入全屏，可传入{direction}参数（1.7.0起支持），详见video组件文档 | [1.4.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | exitFullScreen    | 无       | 退出全屏                                                     | [1.4.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | showStatusBar     | 无       | 显示状态栏，仅在iOS全屏下有效                                | [2.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
  | hideStatusBar     | 无       | 隐藏状态栏，仅在iOS全屏下有效                                | [2.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |

> image 组件

+ src
+ mode
+ binderror
+ bindload

> canvas 组件

+ 可以去看文档 函数较多

## 18. 数据存储以及后台交互

> 同步缓存

+ wx.setStorageSync(key,value)    //设置值 可以设置数组 对象
+ wx.getStorageSync(key)    //获取值

> 异步缓存

+ wx.setStorage({ key:"",data:"",success:function })
+ wx.getStorage({key:"",success:function})

> 清除缓存

+ wx.clearStorage()
+ wx.cleaStorageSync()

> 移除缓存

+ wx.removeStorage({key:"",success:function})
+ wx.removeStorageSync(key)

> 网络请求

+ wx.request(Object)
+ 需要设置请求的域名 在开发者公众平台登陆后点击开发设置里面的域名即可
+ 只支持https  可以在调试的时候勾选不限制合法域名
+ 参数
  + url
  + data
  + success
  + fail
  + complete
+ 一个月只可以设置5次域名

> 引入外部JS 与获取全局数据App

+ 可以通过getApp()获取到App实例 可以访问到里面的属性和方法
+ 引入js文件通过require() 然后在在js文件中暴露出需要暴露的资源

> 上拉加载   下拉刷新 有对应事件   

+ ​       onReachBottom(){

  ​          console.log("触底啦!");

  ​      }

+  onPullDownRefresh(){

  ​          this.sendNetWork();

  ​          console.log("下拉了")

  ​      }

> scroll-view  另一种下拉刷新上拉加载

+ 设置scroll-view 为 white-sapce:nowrap  不换行 在设置 scroll-x 就可以横向滚动了 

+ 子元素如果是块级元素的话要设置display:inline-block;

+ 属性方法

+ #### scroll-view

  可滚动视图区域。

  | 属性名                | 类型            | 默认值 | 说明                                                         |
  | --------------------- | --------------- | ------ | ------------------------------------------------------------ |
  | scroll-x              | Boolean         | false  | 允许横向滚动                                                 |
  | scroll-y              | Boolean         | false  | 允许纵向滚动                                                 |
  | upper-threshold       | Number / String | 50     | 距顶部/左边多远时（单位px，2.4.0起支持rpx），触发 scrolltoupper 事件 |
  | lower-threshold       | Number / String | 50     | 距底部/右边多远时（单位px，2.4.0起支持rpx），触发 scrolltolower 事件 |
  | scroll-top            | Number / String |        | 设置竖向滚动条位置（单位px，2.4.0起支持rpx）                 |
  | scroll-left           | Number / String |        | 设置横向滚动条位置（单位px，2.4.0起支持rpx）                 |
  | scroll-into-view      | String          |        | 值应为某子元素id（id不能以数字开头）。设置哪个方向可滚动，则在哪个方向滚动到该元素 |
  | scroll-with-animation | Boolean         | false  | 在设置滚动条位置时使用动画过渡                               |
  | enable-back-to-top    | Boolean         | false  | iOS点击顶部状态栏、安卓双击标题栏时，滚动条返回顶部，只支持竖向 |
  | **bindscrolltoupper** | EventHandle     |        | 滚动到顶部/左边，会触发 scrolltoupper 事件                   |
  | **bindscrolltolower** | EventHandle     |        | 滚动到底部/右边，会触发 scrolltolower 事件                   |
  | bindscroll            | EventHandle     |        | 滚动时触发，event.detail = {scrollLeft, scrollTop, scrollHeight, scrollWidth, deltaX, deltaY} |

+ 如果需要使用scroll-view实现下拉刷新的话需要通过手动调用wx.startPullDownRefresh(Object)

+ 调用后触发下拉刷新动画 与用户手动下拉一致

+ 不会自动关闭动画需要我们加载到数据自己手动关闭动画wx.stopPullDownRefresh()

+ 停止当前页面下拉刷新

+ 上拉加载的话和在事件驱动程序里面一样 scroll-view有滚动到底部的事件 操作是一致的

> 加载查询单个优化

+ 可以设置个boolean值 
+ 在跳转前进行设置配置判断默认是true 第一次进去设置为false
+ 在此页面的onShow函数中设置为true

##19. 设置背景图

+ 在小程序中的wxss background:url() 不支持本地 支持网址的url
+ 或者在style中设置 写行内样式

## 20. 使用手机设备

> 选择图片   wx.chooseImage(Object)

+ 属性
  + count   允许选择的图片张数  默认九张
  + success(callback[res])   成功的回调函数
  + sizeType   设置是否是压缩或者原图 默认二者都有

> 保存文件到本地  wx.saveFile(Object)  获取本地文件图片信息 wx.getSavedFileInfo(Object)   获取到本地文件图片 wx.getSavedFileList (Object)   移除本地保存的文件信息   wx.removeSavedFile(Object) 

+ 保存文件到本地  会把临时文件移动  一次调用成功后传入的tempFilePath将不可用
+ wx.saveFile(Object) 参数说明
  + tempFilePath 需要保存的文件的临时路径
  + success   成功的函数 返回保存文件的路径
  + fail 接口调用失败
  + complete 家口调用完成
+ wx.getSavedFileInfo 参数说明
  + success  函数 返回信息
  + filePath  路径字符串类型
+  wx.getSavedFileList  参数说明
  + success
  + fail
  + complete
+ wx.removeSavedFile 参数说明
  + success 
  + fail
  + complete

> 预览图片  wx.previewImage(Object)

+ current  当前显示图片的链接 不填则默认为urls的第一项
+ urls 需要预览的图片列表  必填
+ success 成功调用的回调函数
+ fail  失败调用的回调函数
+ complete  完成后的回调函数

> 授权相关   wx.getImageInfo(Object)  获取到图片信息

+ 属性
  + src
  + success 函数回调

> 授权相关   保存图片到系统相册 wx.saveImageToPhotosAlbum(Object) 只支持临时路径或者永久路径不支持网络路径
>
> 我们可以利用wx.saveFile将其保存为永久路径
>
> 属性
>
> ​	filePath
>
> ​	success
>
> ​	fail
>
> ​	complete

> 获取到已授权信息  wx.getSetting(Object)

> 打开设置权限面板  wx.openSetting(Object)

> 开启小程序全屏显示

+ 配置APP.json window下"navigationStyle":"custom"

> 获取录音

+ wx.getRecorderManager()  在	Page外面声明变量获取 返回一个对象
+ 属性
  + start() 开始录音
  + stop() 停止录音
  + pause() 暂停录音
  +  resume() 继续录音
+ 事件
  + onStop(callback[e])   录音停止 可以返回一个录音地址   可以利用wx.getBackgroundAudioManager 
  + ()播放录音设置src
  + onStart(callback)  开始事件
  + onPause(callback) 暂停事件    

> 获取系统信息 wx.getSystemInfo(Object)

+ 方法

  + success

  + fail

  + complete

  + ###### object.success 回调函数

    **参数**

    **Object res**

    | 属性             | 类型   | 说明                                                         | 最低版本                                                     |
    | ---------------- | ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | brand            | string | 手机品牌                                                     | [1.5.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
    | model            | string | 手机型号                                                     |                                                              |
    | pixelRatio       | number | 设备像素比                                                   |                                                              |
    | screenWidth      | number | 屏幕宽度                                                     | [1.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
    | screenHeight     | number | 屏幕高度                                                     | [1.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
    | **windowWidth**  | number | 可使用窗口宽度                                               |                                                              |
    | **windowHeight** | number | 可使用窗口高度                                               |                                                              |
    | statusBarHeight  | number | 状态栏的高度                                                 | [1.9.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
    | language         | string | 微信设置的语言                                               |                                                              |
    | version          | string | 微信版本号                                                   |                                                              |
    | system           | string | 操作系统版本                                                 |                                                              |
    | platform         | string | 客户端平台                                                   |                                                              |
    | fontSizeSetting  | number | 用户字体大小设置。以“我-设置-通用-字体大小”中的设置为准，单位 px。 | [1.5.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
    | SDKVersion       | string | 客户端基础库版本                                             | [1.1.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
    | benchmarkLevel   | number | (仅Android小游戏) 性能等级，-2 或 0：该设备无法运行小游戏，-1：性能未知，>=1 设备性能值，该值越高，设备性能越好 (目前设备最高不到50) |                                                              |

> 获取网络状态

+ wx.getNetWorkType(Object)  获取网络类型
+ wx.onNetWorkStatusChange(Callback)  监听网络变化
+ 获取设置屏幕亮度等等.......

> map 组件 地图组件

+ map  属性居多  可以去看组件map

> 获取地理位置

+ wx.getLocation(Object)   获取到当前位置

  + success
    + res.latitude   维度    负数表示南纬
    + res.longitude   经度   负数表示西经

+ wx.openLocation(Object)打开微信内置的地图定位

  + 属性

    + latitude     维度
    + longitude   经度   

  + 打开微信内置的地图定位

  + 设置wx.getLocation(Object) type属性为gcj02

  + ```javascript
     wx.getLocation({
           type:"gcj02",
           success: function(res) {
              wx.openLocation({
                latitude: res.latitude,
                longitude: res.longitude,
              })
           },
         })
     ```
    ```
  
    ```

+ 选择地图地址

  + wx.chooseLocation(Object)

  + success 返回地址的名字 经纬度等~ 

  + wx.chooseLocation({

    ​      success: function(res) {

    ​        console.log(res);

    ​      },

    ​    })

> 简单登录例子  获取登录态

```javascript
       
 wx.login({
       success:e=>{
         code = e.code;
         wx.request({
           url: 'https://api.weixin.qq.com/sns/jscode2session?appid=wx998cae5e95d6f479&secret=037f9e69c1a1d6fc7b393ed94efd4b33&js_code='+code+'&grant_type=authorization_code',
           method:"GET",
           success:e=>{
             console.log(e);
             wx.setStorageSync("sessionKey", e.data.session_key);
             wx.setStorageSync("openid",e.data.openid);
           }
         })
       }
    })


```

## 小程序实现多选切换样式

```html
选择分类
<block wx:for="{{list}}">
    <view>
        <text bindtap='change'  style="{{item.checked ? 'color:red' : 'color:black'}}" data-id="{{item.id}}"> {{item.id}} </text>
    </view>
</block>			
```

> js部分

```javascript
Page({
    data: {
        list: [{ checked: false, id: 0 }, { checked: false, id: 1}, { checked: false, id: 2},   {checked:false,id:3}]
    },
    onLoad: function () {

    },
    change(e){
        console.log(e);
        var commons = this.data.list;

        if(!this.data.list[e.target.dataset.id].checked){
            commons[e.target.dataset.id].checked = true;
        }else{
            commons[e.target.dataset.id].checked = false;
        }    
        this.setData({
            list: commons
        }) 
    }

})
```



# 微信小游戏

three.js

## 2. API学习地址 

https://developers.weixin.qq.com/miniprogram/dev/api

## 接口地址

www.showapi.com

